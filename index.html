<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 4 Project</title>
</head>
<body>

    <div class="container">
        <div class="anchor"></div>
    </div>
    <div class ="someVariables">
        <p class = "donutNumber"></p>
        <p class ="autoClickerPrice"></p>
        <p class ="multiplierPrice"></p>
        <p class = "autoClickers"></p>
        <p class = "multiplierNumber"></p>
        <!-- <p class = "multiplyRateDisplay"></p> -->

    <form>
        <input type = "button" value = "Make Donuts"class = "donutButton" onclick = "makeDonuts();">
        <input type = "button" value = "Purchase Autoclicker "class = "autoClickerButton" onclick = "purchaseAutoClicker()" >
        <input type = "button" value = "Purchase Multiplier "class = "multiplierButton" onclick = "purchaseMultiplier()" >
    </form>
    </div>
    <!-- <script src="/src/app.js"></script> -->
<script>
    let autoClickerPrice = 100;
    let multiplierPrice = 10;
    const donutNumberDisplay = document.querySelector('.donutNumber');
    const autoClickerPriceDisplay = document.querySelector('.autoClickerPrice');
    const autoClickerNumberDisplay = document.querySelector('.autoClickers');
    const multiplierNumberDisplay = document.querySelector('.multiplierNumber');
    const multiplierPriceDisplay = document.querySelector('.multiplierPrice');
    // const multiplyRateDisplay = document.querySelector('.multiplyRateDisplay'); 
    const autoClickerButton = document.querySelector('.autoClickerButton');
    const multiplierButton = document.querySelector('.multiplierButton');

    let autoClickerStorage = 0;
    let multiplierStorage = 0;
    let donutNumber = 0;
    let donutsToMake = 1.2;
    donutNumberDisplay.textContent = 0 + " donuts";
    autoClickerNumberDisplay.textContent = 0 + " auto-clickers";
    autoClickerPriceDisplay.textContent = "current price of auto-clickers: " + autoClickerPrice; 
    multiplierPriceDisplay.textContent = "current price of donut multipliers: " + multiplierPrice;
    multiplierNumberDisplay.textContent = "number of multipliers: " + 0;
    autoClickerButton.style.visibility="hidden";
    multiplierButton.style.visibility="hidden";
    
    // donutButton = document.createElement('button');
    // donutButton.textContent = 'Make Donuts';
    // document.body.append(donutButton);
    // donutButton.addEventListener('click',makeDonuts);

    setInterval(autoDonuts, 1000);

    function updateLoop(){
       
        if (donutNumber >= autoClickerPrice){
            autoClickerButton.style.visibility="visible";
     
        }else{
            autoClickerButton.style.visibility="hidden";
        }

        if (donutNumber >= multiplierPrice){
            multiplierButton.style.visibility="visible";
     
        }else{
            multiplierButton.style.visibility="hidden";
        }

        donutNumberDisplay.textContent = Math.round(donutNumber) + " donuts";
        autoClickerNumberDisplay.textContent = autoClickerStorage + " auto-clickers";
        autoClickerPriceDisplay.textContent = "current price of auto-clickers: " + Math.ceil(autoClickerPrice) 
        multiplierNumberDisplay.textContent = "number of multipliers: " + multiplierStorage;
        multiplierPriceDisplay.textContent = "current price of donut multipliers: " + Math.ceil(multiplierPrice);
    }
    function makeDonuts(){
        donutNumber += Math.pow(donutsToMake, multiplierStorage);
        updateLoop();

    }

    
    function purchaseAutoClicker(){

        donutNumber -=autoClickerPrice;
                if(donutNumber<autoClickerPrice){
            autoClickerButton.style.visibility="hidden";
        }
        autoClickerStorage += 1;
        autoClickerPrice += (autoClickerPrice/10);
        updateLoop();
    }

    function purchaseMultiplier(){
        donutNumber -=multiplierPrice;
                if(donutNumber<multiplierPrice){
            multiplierButton.style.visibility="hidden";
        }
        multiplierStorage += 1;
        multiplierPrice += (multiplierPrice/10);
        updateLoop();
    }
    function autoDonuts(){
       
        donutNumber += autoClickerStorage*(Math.pow(donutsToMake, multiplierStorage));
        updateLoop();
    }
</script>
</body>
</html>